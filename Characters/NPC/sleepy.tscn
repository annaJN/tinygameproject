[gd_scene load_steps=29 format=3 uid="uid://4k06bluihf6a"]

[ext_resource type="Script" path="res://Characters/NPC/sleepy.gd" id="1_gcycl"]
[ext_resource type="Texture2D" uid="uid://cy7lw5d2g6tt8" path="res://Assets/Spritesheets/Sleepy/all_animations_compressed.jpg" id="2_u67ca"]
[ext_resource type="PackedScene" uid="uid://ryx20pxvdxmo" path="res://Helpers/Actionable.tscn" id="37_s7qe1"]
[ext_resource type="Resource" uid="uid://caug8e57pthct" path="res://Assets/Dialogue/berries_creature.dialogue" id="46_0exlp"]

[sub_resource type="AtlasTexture" id="AtlasTexture_skh6p"]
atlas = ExtResource("2_u67ca")
region = Rect2(0, 0, 285, 293)

[sub_resource type="AtlasTexture" id="AtlasTexture_4x7hw"]
atlas = ExtResource("2_u67ca")
region = Rect2(285, 0, 285, 293)

[sub_resource type="AtlasTexture" id="AtlasTexture_nxilu"]
atlas = ExtResource("2_u67ca")
region = Rect2(570, 0, 285, 293)

[sub_resource type="AtlasTexture" id="AtlasTexture_b58j8"]
atlas = ExtResource("2_u67ca")
region = Rect2(855, 0, 285, 293)

[sub_resource type="AtlasTexture" id="AtlasTexture_bsr72"]
atlas = ExtResource("2_u67ca")
region = Rect2(1140, 0, 285, 293)

[sub_resource type="AtlasTexture" id="AtlasTexture_1du76"]
atlas = ExtResource("2_u67ca")
region = Rect2(1425, 0, 285, 293)

[sub_resource type="AtlasTexture" id="AtlasTexture_g02vw"]
atlas = ExtResource("2_u67ca")
region = Rect2(1710, 0, 285, 293)

[sub_resource type="AtlasTexture" id="AtlasTexture_lwus2"]
atlas = ExtResource("2_u67ca")
region = Rect2(1995, 0, 285, 293)

[sub_resource type="AtlasTexture" id="AtlasTexture_wtdu3"]
atlas = ExtResource("2_u67ca")
region = Rect2(2280, 0, 285, 293)

[sub_resource type="AtlasTexture" id="AtlasTexture_x7ova"]
atlas = ExtResource("2_u67ca")
region = Rect2(2565, 0, 285, 293)

[sub_resource type="AtlasTexture" id="AtlasTexture_xmh43"]
atlas = ExtResource("2_u67ca")
region = Rect2(2850, 0, 285, 293)

[sub_resource type="AtlasTexture" id="AtlasTexture_f5o36"]
atlas = ExtResource("2_u67ca")
region = Rect2(3135, 0, 285, 293)

[sub_resource type="AtlasTexture" id="AtlasTexture_r2128"]
atlas = ExtResource("2_u67ca")
region = Rect2(3420, 0, 285, 293)

[sub_resource type="AtlasTexture" id="AtlasTexture_wgdx7"]
atlas = ExtResource("2_u67ca")
region = Rect2(3705, 0, 285, 293)

[sub_resource type="SpriteFrames" id="SpriteFrames_eh28v"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_skh6p")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4x7hw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nxilu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b58j8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bsr72")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1du76")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g02vw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lwus2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wtdu3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x7ova")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xmh43")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f5o36")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r2128")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wgdx7")
}],
"loop": false,
"name": &"idle",
"speed": 30.0
}, {
"frames": [],
"loop": true,
"name": &"sleeping",
"speed": 5.0
}, {
"frames": [],
"loop": true,
"name": &"wake_up",
"speed": 5.0
}, {
"frames": [],
"loop": true,
"name": &"walking",
"speed": 5.0
}]

[sub_resource type="Animation" id="Animation_i5og5"]
resource_name = "idle"
length = 10.0
loop_mode = 1
step = 0.0333333

[sub_resource type="Animation" id="Animation_7wgy3"]
resource_name = "sleeping"
step = 0.0333333

[sub_resource type="Animation" id="Animation_ortpa"]
resource_name = "wake_up"
step = 0.0333333

[sub_resource type="Animation" id="Animation_7ajii"]
resource_name = "walking"
loop_mode = 1
step = 0.0166667

[sub_resource type="AnimationLibrary" id="AnimationLibrary_wqaes"]
_data = {
"idle": SubResource("Animation_i5og5"),
"sleeping": SubResource("Animation_7wgy3"),
"wake_up": SubResource("Animation_ortpa"),
"walking": SubResource("Animation_7ajii")
}

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_t7cbh"]
radius = 120.0
height = 368.0

[sub_resource type="CircleShape2D" id="CircleShape2D_qgdu5"]
radius = 88.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pvfh1"]
size = Vector2(480, 50)

[sub_resource type="CircleShape2D" id="CircleShape2D_o4fj8"]
radius = 221.472

[node name="Sleepy" type="CharacterBody2D"]
z_index = -2
collision_layer = 4
script = ExtResource("1_gcycl")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_eh28v")
animation = &"idle"

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_wqaes")
}
autoplay = "sleeping"

[node name="WorldCollision" type="CollisionShape2D" parent="."]
position = Vector2(8, 0)
shape = SubResource("CapsuleShape2D_t7cbh")

[node name="StoneOnHeadCollision" type="Area2D" parent="."]
collision_layer = 4
collision_mask = 10

[node name="CollisionShape2D" type="CollisionShape2D" parent="StoneOnHeadCollision"]
shape = SubResource("CircleShape2D_qgdu5")

[node name="StoneOnTheSideCollision" type="Area2D" parent="."]
position = Vector2(-208, 0)
collision_layer = 4
collision_mask = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="StoneOnTheSideCollision"]
position = Vector2(-144, 152)
shape = SubResource("RectangleShape2D_pvfh1")

[node name="Actionable" parent="." instance=ExtResource("37_s7qe1")]
visible = false
dialogue_resources = ExtResource("46_0exlp")
dialogue_start = "berries_Start"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Actionable"]
shape = SubResource("CircleShape2D_o4fj8")

[connection signal="body_entered" from="StoneOnHeadCollision" to="." method="_on_stone_on_head_collision_body_entered"]
[connection signal="body_entered" from="StoneOnTheSideCollision" to="." method="_on_stone_on_the_side_collision_body_entered"]
